# java-to-graphviz

**java-to-graphviz** takes your java source code and converts it into graphviz diagrams.

This is the sort of thing you might want to do when you take a look at some piece of code and realise it's a completely 
unmaintainable mess but it still needs to be documented somehow.

It uses the eclipse parser, so should be able to handle the newer java language features. Probably.
Haven't tried lambdas or inner classes on this thing yet. That'll be a lark.
I'm aware inner classes were added back in the java 1.2 era so probably isn't considered a new language feature any more.

Anyway. You can annotate the generated diagram using specially-formatted comments, because I think annotations
are an abomination. You can probably use annotations as well later on once I've implemented that.

So anyway here's the 10 types of statement it can handle:

[images of all of those]

and this is what it looks like when you throw that all together:

[something much more complicated]

You obviously won't want that, so it suppresses nodes by default, to give you just the nodes you're interested in.

[something between those two extremes]

Here's a maven plugin to generate these things during your build process. Include them in your javadoc via

    /** Something like this <img src="the-diagram.png"/> */
    
Here's another plugin which colours in the nodes using jacoco output.

Here's another eclipse plugin which hooks in via JVMTI to do that in realtime.

Here's another plugin which annotates the nodes with generated bytecodes.

Here's another plugin which adds in AOP nodes.

And so on.

# Syntax

---Well I haven't sorted that out yet.---

# Features

DONE
* style rules
* external style refs (classpath, TODO urls, files)
* label formats
* css-defined subgraphs
* a single .java source file can contain multiple graphs and subgraphs

TODO

So a few things I want to be able to support

* bit of flexibility when it comes to how the diagram is generated ( node suppression , artificial nodes, that sort of thing )
* can put literal gv into the diagram
* comment attribution 
* few builtin methods/style properties/declarations to make this a bit easier to generate diagrams; e.g. wordwrap, flip logic on if edge labels, probably others
* seeing I"m going to the trouble of creating a DOM to apply styles maybe dump that as well, &/or the AST tree. apply styles to AST nodes vs dag nodes ?
* bunch up the exit nodes if there's lots of them
* lambdas, fluent methods


